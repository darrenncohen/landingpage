<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Publish</title>
  <meta name="robots" content="noindex,nofollow,noarchive" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <script>
    (function () {
      try {
        var storedTheme = localStorage.getItem("theme-preference");
        var systemTheme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
        var theme = (storedTheme === "dark" || storedTheme === "light") ? storedTheme : systemTheme;
        document.documentElement.setAttribute("data-theme", theme);
        document.documentElement.style.colorScheme = theme;
      } catch (e) {}
    })();
  </script>
  <script src="js/theme.js" defer></script>
  <script src="js/admin.js" defer></script>
</head>
<body>
  <div class="links-header">
    <h1>Admin Publish</h1>
    <p>Private publishing form.</p>
  </div>

  <div class="content-container">
    <div class="content-card">
      <form id="admin-publish-form" class="admin-form">
        <label class="admin-label" for="admin-endpoint">API endpoint</label>
        <input id="admin-endpoint" name="endpoint" class="admin-input" type="url" placeholder="https://admin.example.com/api/publish" required>

        <label class="admin-label" for="microText">Microblog text</label>
        <textarea id="microText" name="microText" class="admin-textarea" rows="4" placeholder="Optional if uploading only a photo"></textarea>

        <div class="admin-inline-fields">
          <label><input type="checkbox" name="publishMicroblog" checked> Publish microblog entry</label>
          <label><input type="checkbox" name="postToBluesky"> Cross-post to Bluesky</label>
          <label><input type="checkbox" name="postToMastodon"> Cross-post to Mastodon</label>
        </div>

        <hr class="post-rule" />

        <label class="admin-label" for="photoFile">Photo (optional)</label>
        <input id="photoFile" name="photoFile" class="admin-input" type="file" accept="image/*">

        <label class="admin-label" for="photoCaption">Photo caption</label>
        <input id="photoCaption" name="photoCaption" class="admin-input" type="text" placeholder="Optional">

        <label class="admin-label" for="photoLocation">Photo location</label>
        <input id="photoLocation" name="photoLocation" class="admin-input" type="text" placeholder="Optional">

        <label class="admin-label" for="photoDate">Photo date</label>
        <input id="photoDate" name="photoDate" class="admin-input" type="date">

        <div class="admin-inline-fields">
          <label><input type="checkbox" name="publishPhotoStream" checked> Add to photo stream</label>
        </div>

        <button type="submit" class="back-button admin-submit">Publish</button>
        <p id="admin-status" class="admin-status">Ready.</p>
      </form>
    </div>
  </div>
</body>
</html>
